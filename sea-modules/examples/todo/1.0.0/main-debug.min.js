define("examples/todo/1.0.0/main-debug",["backbone-debug","./views/app-debug","$-debug","underscore-debug","./views/todos-debug","./common-debug","./collections/todos-debug","./vendor/backbone.localStorage-debug","./models/todo-debug","./routers/router-debug"],function(e){var t=e("backbone-debug"),i=e("./views/app-debug"),s=e("./routers/router-debug");new s,t.history.start(),new i}),define("examples/todo/1.0.0/views/app-debug",["$-debug","underscore-debug","backbone-debug","examples/todo/1.0.0/views/todos-debug","examples/todo/1.0.0/common-debug","examples/todo/1.0.0/collections/todos-debug","examples/todo/1.0.0/models/todo-debug"],function(e,t,i){var s,n,a,r,o,l=e("$-debug"),c=e("underscore-debug");s=e("backbone-debug"),n=e("examples/todo/1.0.0/views/todos-debug"),a=e("examples/todo/1.0.0/collections/todos-debug"),r=e("examples/todo/1.0.0/common-debug"),o=s.View.extend({el:"#todoapp",statsTemplate:c.template(l("#stats-template").html()),events:{"keypress #new-todo":"createOnEnter","click #clear-completed":"clearCompleted","click #toggle-all":"toggleAllComplete"},initialize:function(){this.allCheckbox=this.$("#toggle-all")[0],this.$input=this.$("#new-todo"),this.$footer=this.$("#footer"),this.$main=this.$("#main"),this.listenTo(a,"add",this.addOne),this.listenTo(a,"reset",this.addAll),this.listenTo(a,"change:completed",this.filterOne),this.listenTo(a,"filter",this.filterAll),this.listenTo(a,"all",this.render),a.fetch()},render:function(){var e=a.completed().length,t=a.remaining().length;a.length?(this.$main.show(),this.$footer.show(),this.$footer.html(this.statsTemplate({completed:e,remaining:t})),this.$("#filters li a").removeClass("selected").filter('[href="#/'+(r.TodoFilter||"")+'"]').addClass("selected")):(this.$main.hide(),this.$footer.hide()),this.allCheckbox.checked=!t},addOne:function(e){var t=new n({model:e});l("#todo-list").append(t.render().el)},addAll:function(){this.$("#todo-list").html(""),a.each(this.addOne,this)},filterOne:function(e){e.trigger("visible")},filterAll:function(){a.each(this.filterOne,this)},newAttributes:function(){return{title:this.$input.val().trim(),order:a.nextOrder(),completed:!1}},createOnEnter:function(e){e.which===r.ENTER_KEY&&this.$input.val().trim()&&(a.create(this.newAttributes()),this.$input.val(""))},clearCompleted:function(){return c.invoke(a.completed(),"destroy"),!1},toggleAllComplete:function(){var e=this.allCheckbox.checked;a.each(function(t){t.save({completed:e})})}}),i.exports=o}),define("examples/todo/1.0.0/views/todos-debug",["backbone-debug","examples/todo/1.0.0/common-debug","$-debug","underscore-debug"],function(e,t,i){var s,n,a;s=e("backbone-debug"),n=e("examples/todo/1.0.0/common-debug");var r=e("$-debug"),o=e("underscore-debug");a=s.View.extend({tagName:"li",template:o.template(r("#item-template").html()),events:{"click .toggle":"toggleCompleted","dblclick label":"edit","click .destroy":"clear","keypress .edit":"updateOnEnter","blur .edit":"close"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"visible",this.toggleVisible)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.toggleClass("completed",this.model.get("completed")),this.toggleVisible(),this.$input=this.$(".edit"),this},toggleVisible:function(){this.$el.toggleClass("hidden",this.isHidden())},isHidden:function(){{this.model.get("completed")}},toggleCompleted:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.$input.focus()},close:function(){var e=this.$input.val().trim();e?this.model.save({title:e}):this.clear(),this.$el.removeClass("editing")},updateOnEnter:function(e){e.which===n.ENTER_KEY&&this.close()},clear:function(){this.model.destroy()}}),i.exports=a}),define("examples/todo/1.0.0/common-debug",[],{TodoFilter:"",ENTER_KEY:13}),define("examples/todo/1.0.0/collections/todos-debug",["backbone-debug","$-debug","underscore-debug","examples/todo/1.0.0/models/todo-debug"],function(e,t,i){var s,n,a;s=e("backbone-debug"),e("examples/todo/1.0.0/vendor/backbone.localStorage-debug"),e("$-debug"),e("underscore-debug"),n=e("examples/todo/1.0.0/models/todo-debug"),a=s.Collection.extend({model:n,localStorage:new s.LocalStorage("todos-backbone"),completed:function(){return this.filter(function(e){return e.get("completed")})},remaining:function(){return this.without.apply(this,this.completed())},nextOrder:function(){return this.length?this.last().get("order")+1:1},comparator:function(e){return e.get("order")}}),i.exports=new a}),define("examples/todo/1.0.0/vendor/backbone.localStorage-debug",["underscore-debug","$-debug","backbone-debug"],function(e){function t(){return(0|65536*(1+Math.random())).toString(16).substring(1)}function i(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}var s=e("underscore-debug"),n=e("$-debug"),a=e("backbone-debug");return a.LocalStorage=window.Store=function(e){this.name=e;var t=this.localStorage().getItem(this.name);this.records=t&&t.split(",")||[]},s.extend(a.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(e){return e.id||(e.id=i(),e.set(e.idAttribute,e.id)),this.localStorage().setItem(this.name+"-"+e.id,JSON.stringify(e)),this.records.push(""+e.id),this.save(),this.find(e)},update:function(e){return this.localStorage().setItem(this.name+"-"+e.id,JSON.stringify(e)),s.include(this.records,""+e.id)||this.records.push(""+e.id),this.save(),this.find(e)},find:function(e){return this.jsonData(this.localStorage().getItem(this.name+"-"+e.id))},findAll:function(){return s(this.records).chain().map(function(e){return this.jsonData(this.localStorage().getItem(this.name+"-"+e))},this).compact().value()},destroy:function(e){return e.isNew()?!1:(this.localStorage().removeItem(this.name+"-"+e.id),this.records=s.reject(this.records,function(t){return t===""+e.id}),this.save(),e)},localStorage:function(){return localStorage},jsonData:function(e){return e&&JSON.parse(e)}}),a.LocalStorage.sync=window.Store.sync=a.localSync=function(e,t,i){var s,r,o=t.localStorage||t.collection.localStorage,l=n.Deferred&&n.Deferred();try{switch(e){case"read":s=void 0!=t.id?o.find(t):o.findAll();break;case"create":s=o.create(t);break;case"update":s=o.update(t);break;case"delete":s=o.destroy(t)}}catch(c){r=c.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.localStorage.length?"Private browsing is unsupported":c.message}return s?(i&&i.success&&("0.9.10"===a.VERSION?i.success(t,s,i):i.success(s)),l&&l.resolve(s)):(r=r?r:"Record Not Found",i&&i.error&&("0.9.10"===a.VERSION?i.error(t,r,i):i.error(r)),l&&l.reject(r)),i&&i.complete&&i.complete(s),l&&l.promise()},a.ajaxSync=a.sync,a.getSyncMethod=function(e){return e.localStorage||e.collection&&e.collection.localStorage?a.localSync:a.ajaxSync},a.sync=function(e,t,i){return a.getSyncMethod(t).apply(this,[e,t,i])},a.LocalStorage}),define("examples/todo/1.0.0/models/todo-debug",["backbone-debug"],function(e,t,i){var s=e("backbone-debug"),n=s.Model.extend({defaults:{title:"",completed:!1},toggle:function(){this.save({completed:!this.get("completed")})}});i.exports=n}),define("examples/todo/1.0.0/routers/router-debug",["backbone-debug","examples/todo/1.0.0/collections/todos-debug","$-debug","underscore-debug","examples/todo/1.0.0/models/todo-debug","examples/todo/1.0.0/common-debug"],function(e,t,i){var s,n,a,r;s=e("backbone-debug"),a=e("examples/todo/1.0.0/collections/todos-debug"),r=e("examples/todo/1.0.0/common-debug"),n=s.Router.extend({routes:{"*filter":"setFilter"},setFilter:function(e){r.TodoFilter=e&&e.trim()||"",a.trigger("filter")}}),i.exports=n});