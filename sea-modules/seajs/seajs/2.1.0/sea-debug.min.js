(function(e,t){function i(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(){return O++}function s(e){return e.match(j)[0]}function a(e){for(e=e.replace(I,"/");e.match(V);)e=e.replace(V,"/");return e}function r(e){var t=e.length-1;return"#"===e.charAt(t)?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)?e:e+".js"}function o(e){var t=$.alias;return t&&x(t[e])?t[e]:e}function l(e){var t,i=$.paths;return i&&(t=e.match(L))&&x(i[t[1]])&&(e=i[t[1]]+t[2]),e}function c(e){var t=$.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(Y,function(e,i){return x(t[i])?t[i]:e})),e}function u(e){var t=$.map,i=e;if(t)for(var n=0,s=t.length;s>n;n++){var a=t[n];if(i=C(a)?a(e)||e:e.replace(a[0],a[1]),i!==e)break}return i}function d(e,t){var i,n=e.charAt(0);if(E.test(e))i=e;else if("."===n)i=a((t?s(t):$.cwd)+e);else if("/"===n){var r=$.cwd.match(W);i=r?r[0]+e.substring(1):e}else i=$.base+e;return i}function p(e,t){if(!e)return"";e=o(e),e=l(e),e=c(e),e=r(e);var i=d(e,t);return i=u(i)}function h(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function f(e,t,i){var n=X.test(e),s=z.createElement(n?"link":"script");if(i){var a=C(i)?i(e):i;a&&(s.charset=a)}v(s,t,n),n?(s.rel="stylesheet",s.href=e):(s.async=!0,s.src=e),_=s,J?H.insertBefore(s,J):H.appendChild(s),_=null}function v(e,i,n){var s=n&&(G||!("onload"in e));return s?(setTimeout(function(){g(e,i)},1),t):(e.onload=e.onerror=e.onreadystatechange=function(){Q.test(e.readyState)&&(e.onload=e.onerror=e.onreadystatechange=null,n||$.debug||H.removeChild(e),e=null,i())},t)}function g(e,t){var i,n=e.sheet;if(G)n&&(i=!0);else if(n)try{n.cssRules&&(i=!0)}catch(s){"NS_ERROR_DOM_SECURITY_ERR"===s.name&&(i=!0)}setTimeout(function(){i?t():g(e,t)},20)}function m(){if(_)return _;if(B&&"interactive"===B.readyState)return B;for(var e=H.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var i=e[t];if("interactive"===i.readyState)return B=i}}function y(e){var t=[];return e.replace(Z,"").replace(K,function(e,i,n){n&&t.push(n)}),t}function b(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function k(e,t){var i={id:e,refUri:t};return q("resolve",i),i.uri||p(i.id,t)}function w(e,t){var i=b.get(e);i.status<st.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=st.SAVED)}if(!e.seajs){var A=e.seajs={version:"2.1.0"},$=A.data={},S=i("Object"),x=i("String"),N=Array.isArray||i("Array"),C=i("Function"),O=0,T=$.events={};A.on=function(e,t){var i=T[e]||(T[e]=[]);return i.push(t),A},A.off=function(e,t){if(!e&&!t)return T=$.events={},A;var i=T[e];if(i)if(t)for(var n=i.length-1;n>=0;n--)i[n]===t&&i.splice(n,1);else delete T[e];return A};var _,B,D,q=A.emit=function(e,t){var i,n=T[e];if(n)for(n=n.slice();i=n.shift();)i(t);return A},j=/[^?#]*\//,I=/\/\.\//g,V=/\/[^/]+\/\.\.\//,L=/^([^/:]+)(\/.+)$/,Y=/{([^{]+)}/g,E=/^\/\/.|:\//,W=/^.*?\/\/.*?\//,z=document,M=location,F=s(M.href),R=z.getElementsByTagName("script"),P=z.getElementById("seajsnode")||R[R.length-1],U=s(h(P)||F),H=z.getElementsByTagName("head")[0]||z.documentElement,J=H.getElementsByTagName("base")[0],X=/\.css(?:\?|$)/i,Q=/^(?:loaded|complete|undefined)$/,G=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),K=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,Z=/\\\\/g,et=A.cache={},tt={},it={},nt={},st=b.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};b.prototype.resolve=function(){for(var e=this,t=e.dependencies,i=[],n=0,s=t.length;s>n;n++)i[n]=k(t[n],e.uri);return i},b.prototype.load=function(){var e=this;if(!(e.status>=st.LOADING)){e.status=st.LOADING;var i=e.resolve();q("load",i);for(var n,s=e._remain=i.length,a=0;s>a;a++)n=b.get(i[a]),n.status<st.LOADED?n._waitings[e.uri]=(n._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return e.onload(),t;var r={};for(a=0;s>a;a++)n=et[i[a]],n.status<st.FETCHING?n.fetch(r):n.status===st.SAVED&&n.load();for(var o in r)r.hasOwnProperty(o)&&r[o]()}},b.prototype.onload=function(){var e=this;e.status=st.LOADED,e.callback&&e.callback();var t,i,n=e._waitings;for(t in n)n.hasOwnProperty(t)&&(i=et[t],i._remain-=n[t],0===i._remain&&i.onload());delete e._waitings,delete e._remain},b.prototype.fetch=function(e){function i(){f(r.requestUri,r.onRequest,r.charset)}function n(){delete tt[o],it[o]=!0,D&&(w(a,D),D=null);var e,t=nt[o];for(delete nt[o];e=t.shift();)e.load()}var s=this,a=s.uri;s.status=st.FETCHING;var r={uri:a};q("fetch",r);var o=r.requestUri||a;return!o||it[o]?(s.load(),t):tt[o]?(nt[o].push(s),t):(tt[o]=!0,nt[o]=[s],q("request",r={uri:a,requestUri:o,onRequest:n,charset:$.charset}),r.requested||(e?e[r.requestUri]=i:i()),t)},b.prototype.exec=function(){function e(t){return et[e.resolve(t)].exec()}var i=this;if(i.status>=st.EXECUTING)return i.exports;i.status=st.EXECUTING;var s=i.uri;e.resolve=function(e){return k(e,s)},e.async=function(t,i){return b.use(t,i,s+"_async_"+n()),e};var a=i.factory,r=C(a)?a(e,i.exports={},i):a;return r===t&&(r=i.exports),null!==r||X.test(s)||q("error",i),delete i.factory,i.exports=r,i.status=st.EXECUTED,q("exec",i),r},b.define=function(e,i,n){var s=arguments.length;1===s?(n=e,e=t):2===s&&(n=i,N(e)?(i=e,e=t):i=t),!N(i)&&C(n)&&(i=y(""+n));var a={id:e,uri:k(e),deps:i,factory:n};if(!a.uri&&z.attachEvent){var r=m();r&&(a.uri=r.src)}q("define",a),a.uri?w(a.uri,a):D=a},b.get=function(e,t){return et[e]||(et[e]=new b(e,t))},b.use=function(t,i,n){var s=b.get(n,N(t)?t:[t]);s.callback=function(){for(var t=[],n=s.resolve(),a=0,r=n.length;r>a;a++)t[a]=et[n[a]].exec();i&&i.apply(e,t),delete s.callback},s.load()},b.preload=function(e){var t=$.preload,i=t.length;i?b.use(t,function(){t.splice(0,i),b.preload(e)},$.cwd+"_preload_"+n()):e()},A.use=function(e,t){return b.preload(function(){b.use(e,t,$.cwd+"_use_"+n())}),A},b.define.cmd={},e.define=b.define,A.Module=b,$.fetchedList=it,$.cid=n,A.resolve=p,A.require=function(e){return(et[k(e)]||{}).exports};var at=/^(.+?\/)(\?\?)?(seajs\/)+/;$.base=(U.match(at)||["",U])[1],$.dir=U,$.cwd=F,$.charset="utf-8",$.preload=function(){var e=[],t=M.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return t+=" "+z.cookie,t.replace(/(seajs-\w+)=1/g,function(t,i){e.push(i)}),e}(),A.config=function(e){for(var t in e){var i=e[t],n=$[t];if(n&&S(n))for(var s in i)n[s]=i[s];else N(n)?i=n.concat(i):"base"===t&&("/"===i.slice(-1)||(i+="/"),i=d(i)),$[t]=i}return q("config",e),A}}})(this);