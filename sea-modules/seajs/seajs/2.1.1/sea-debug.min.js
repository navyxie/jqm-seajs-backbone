(function(e,t){function s(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function i(){return C++}function a(e){return e.match(q)[0]}function n(e){for(e=e.replace(_,"/");e.match(V);)e=e.replace(V,"/");return e}function r(e){var t=e.length-1,s=e.charAt(t);return"#"===s?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)||"/"===s?e:e+".js"}function l(e){var t=A.alias;return t&&N(t[e])?t[e]:e}function o(e){var t,s=A.paths;return s&&(t=e.match(I))&&N(s[t[1]])&&(e=s[t[1]]+t[2]),e}function c(e){var t=A.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(L,function(e,s){return N(t[s])?t[s]:e})),e}function d(e){var t=A.map,s=e;if(t)for(var i=0,a=t.length;a>i;i++){var n=t[i];if(s=x(n)?n(e)||e:e.replace(n[0],n[1]),s!==e)break}return s}function u(e,t){var s,i=e.charAt(0);if(Y.test(e))s=e;else if("."===i)s=n((t?a(t):A.cwd)+e);else if("/"===i){var r=A.cwd.match(j);s=r?r[0]+e.substring(1):e}else s=A.base+e;return s}function p(e,t){if(!e)return"";e=l(e),e=o(e),e=c(e),e=r(e);var s=u(e,t);return s=d(s)}function h(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function f(e,t,s){var i=U.test(e),a=W.createElement(i?"link":"script");if(s){var n=x(s)?s(e):s;n&&(a.charset=n)}v(a,t,i),i?(a.rel="stylesheet",a.href=e):(a.async=!0,a.src=e),O=a,J?P.insertBefore(a,J):P.appendChild(a),O=null}function v(e,s,i){var a=i&&(X||!("onload"in e));return a?(setTimeout(function(){g(e,s)},1),t):(e.onload=e.onerror=e.onreadystatechange=function(){H.test(e.readyState)&&(e.onload=e.onerror=e.onreadystatechange=null,i||A.debug||P.removeChild(e),e=null,s())},t)}function g(e,t){var s,i=e.sheet;if(X)i&&(s=!0);else if(i)try{i.cssRules&&(s=!0)}catch(a){"NS_ERROR_DOM_SECURITY_ERR"===a.name&&(s=!0)}setTimeout(function(){s?t():g(e,t)},20)}function y(){if(O)return O;if(B&&"interactive"===B.readyState)return B;for(var e=P.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var s=e[t];if("interactive"===s.readyState)return B=s}}function m(e){var t=[];return e.replace(G,"").replace(Q,function(e,s,i){i&&t.push(i)}),t}function b(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!e.seajs){var k=e.seajs={version:"2.1.1"},A=k.data={},w=s("Object"),N=s("String"),S=Array.isArray||s("Array"),x=s("Function"),C=0,$=A.events={};k.on=function(e,t){var s=$[e]||($[e]=[]);return s.push(t),k},k.off=function(e,t){if(!e&&!t)return $=A.events={},k;var s=$[e];if(s)if(t)for(var i=s.length-1;i>=0;i--)s[i]===t&&s.splice(i,1);else delete $[e];return k};var O,B,T,D=k.emit=function(e,t){var s,i=$[e];if(i)for(i=i.slice();s=i.shift();)s(t);return k},q=/[^?#]*\//,_=/\/\.\//g,V=/\/[^/]+\/\.\.\//,I=/^([^/:]+)(\/.+)$/,L=/{([^{]+)}/g,Y=/^\/\/.|:\//,j=/^.*?\/\/.*?\//,W=document,z=location,M=a(z.href),F=W.getElementsByTagName("script"),R=W.getElementById("seajsnode")||F[F.length-1],E=a(h(R)||M),P=W.getElementsByTagName("head")[0]||W.documentElement,J=P.getElementsByTagName("base")[0],U=/\.css(?:\?|$)/i,H=/^(?:loaded|complete|undefined)$/,X=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),Q=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,G=/\\\\/g,K=k.cache={},Z={},et={},tt={},st=b.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};b.prototype.resolve=function(){for(var e=this,t=e.dependencies,s=[],i=0,a=t.length;a>i;i++)s[i]=b.resolve(t[i],e.uri);return s},b.prototype.load=function(){var e=this;if(!(e.status>=st.LOADING)){e.status=st.LOADING;var s=e.resolve();D("load",s);for(var i,a=e._remain=s.length,n=0;a>n;n++)i=b.get(s[n]),i.status<st.LOADED?i._waitings[e.uri]=(i._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return e.onload(),t;var r={};for(n=0;a>n;n++)i=K[s[n]],i.status<st.FETCHING?i.fetch(r):i.status===st.SAVED&&i.load();for(var l in r)r.hasOwnProperty(l)&&r[l]()}},b.prototype.onload=function(){var e=this;e.status=st.LOADED,e.callback&&e.callback();var t,s,i=e._waitings;for(t in i)i.hasOwnProperty(t)&&(s=K[t],s._remain-=i[t],0===s._remain&&s.onload());delete e._waitings,delete e._remain},b.prototype.fetch=function(e){function s(){f(r.requestUri,r.onRequest,r.charset)}function i(){delete Z[l],et[l]=!0,T&&(b.save(n,T),T=null);var e,t=tt[l];for(delete tt[l];e=t.shift();)e.load()}var a=this,n=a.uri;a.status=st.FETCHING;var r={uri:n};D("fetch",r);var l=r.requestUri||n;return!l||et[l]?(a.load(),t):Z[l]?(tt[l].push(a),t):(Z[l]=!0,tt[l]=[a],D("request",r={uri:n,requestUri:l,onRequest:i,charset:A.charset}),r.requested||(e?e[r.requestUri]=s:s()),t)},b.prototype.exec=function(){function e(t){return b.get(e.resolve(t)).exec()}var s=this;if(s.status>=st.EXECUTING)return s.exports;s.status=st.EXECUTING;var a=s.uri;e.resolve=function(e){return b.resolve(e,a)},e.async=function(t,s){return b.use(t,s,a+"_async_"+i()),e};var n=s.factory,r=x(n)?n(e,s.exports={},s):n;return r===t&&(r=s.exports),null!==r||U.test(a)||D("error",s),delete s.factory,s.exports=r,s.status=st.EXECUTED,D("exec",s),r},b.resolve=function(e,t){var s={id:e,refUri:t};return D("resolve",s),s.uri||p(s.id,t)},b.define=function(e,s,i){var a=arguments.length;1===a?(i=e,e=t):2===a&&(i=s,S(e)?(s=e,e=t):s=t),!S(s)&&x(i)&&(s=m(""+i));var n={id:e,uri:b.resolve(e),deps:s,factory:i};if(!n.uri&&W.attachEvent){var r=y();r&&(n.uri=r.src)}D("define",n),n.uri?b.save(n.uri,n):T=n},b.save=function(e,t){var s=b.get(e);s.status<st.SAVED&&(s.id=t.id||e,s.dependencies=t.deps||[],s.factory=t.factory,s.status=st.SAVED)},b.get=function(e,t){return K[e]||(K[e]=new b(e,t))},b.use=function(t,s,i){var a=b.get(i,S(t)?t:[t]);a.callback=function(){for(var t=[],i=a.resolve(),n=0,r=i.length;r>n;n++)t[n]=K[i[n]].exec();s&&s.apply(e,t),delete a.callback},a.load()},b.preload=function(e){var t=A.preload,s=t.length;s?b.use(t,function(){t.splice(0,s),b.preload(e)},A.cwd+"_preload_"+i()):e()},k.use=function(e,t){return b.preload(function(){b.use(e,t,A.cwd+"_use_"+i())}),k},b.define.cmd={},e.define=b.define,k.Module=b,A.fetchedList=et,A.cid=i,k.resolve=p,k.require=function(e){return(K[b.resolve(e)]||{}).exports};var it=/^(.+?\/)(\?\?)?(seajs\/)+/;A.base=(E.match(it)||["",E])[1],A.dir=E,A.cwd=M,A.charset="utf-8",A.preload=function(){var e=[],t=z.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return t+=" "+W.cookie,t.replace(/(seajs-\w+)=1/g,function(t,s){e.push(s)}),e}(),k.config=function(e){for(var t in e){var s=e[t],i=A[t];if(i&&w(i))for(var a in s)i[a]=s[a];else S(i)?s=i.concat(s):"base"===t&&("/"===s.slice(-1)||(s+="/"),s=u(s)),A[t]=s}return D("config",e),k}}})(this);