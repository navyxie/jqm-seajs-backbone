define(function(e,t,n){var r=e("jqmobile"),i=e("backbone"),s=e("./title"),o=new(e("../collections/title")),u=e("../vendors/util"),a=u.TRANSFORM,f=i.View.extend({initialize:function(){var e=this;o.bind("add",this.addOneNav,this),o.bind("reset",this.addAllNav,this),e.$navContainer=r("#titleNav"),e.$pageList=r("#pageList"),e.fetchTitle()},el:"body",events:{},handlerTitle:function(){var e=this;e.$navLi=e.$navContainer.find(".navLi"),e.$navContainer.on("vclick",".navLi",function(t){var n=r(this);n.hasClass("navLi")&&(e.$navLi.removeClass("selected"),n.addClass("selected"))})},render:function(){return this},addOneNav:function(e){this.$navContainer.append((new s({model:e})).render().el),a.autoWidth(this.$navContainer)},addAllNav:function(){var e=this;o.each(function(){e.addOneNav.apply(e,arguments)})},fetchTitle:function(){var e=this;o.fetch({success:function(t,n,r){new a.animateBase(e.$navContainer,{isLimit:!1}),e.handlerTitle(),e.makePageContent(n.length),a.autoWidth(e.$pageList,".pageContent",!0)},error:function(){}})},makePageContent:function(e){var t="";for(var n=0;n<e;n++)t+='<li class="pageContent" id="pageContent'+n+'" index='+n+"></li>";this.$pageList.append(t)}});n.exports=f})