define(function(t,e,n){var i=t("underscore"),a=t("backbone"),o=t("../vendors/util"),r=o.TPL.get,s=a.View.extend({template:i.template(r.call(o.TPL,"item")),className:"waterFallItem",tagName:"div",initialize:function(){this.$el=$(this.el),this.model.bind("change",this.render,this)},events:{"vclick .clickUrl":"openUrl"},openUrl:function(){var t=this;window.appConfig.debug?window.open(this.model.get("cUrl")):seajs.use(["childbrowser"],function(e){e.plugins.childBrowser.showWebPage(t.model.get("cUrl"),{showLocationBar:!0})})},render:function(){var t=this.model.toJSON(),e=o.TOOL.getPicSize();t.uPic?t.uPic+="_"+e+"x"+e+".jpg":t.pUrl+="_"+e+"x"+e;var n=t.pic_size,i=o.getWaterFalColWidth()*n.h/n.w;return t.imgShowH=i,this.$el.html(this.template(t)),this}});n.exports=s});