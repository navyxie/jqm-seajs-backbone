define(function(t,e,i){var a=t("underscore"),n=t("backbone"),r=t("../vendors/util"),s=r.TPL.get,o=n.View.extend({template:a.template(s.call(r.TPL,"item")),className:"waterFallItem",tagName:"div",initialize:function(){this.$el=$(this.el),this.model.bind("change",this.render,this)},events:{"tap .clickUrl":"openUrl","tap .likeBtn":"likeItem"},likeItem:function(t){$(t.target).toggleClass("unLikeBtn").toggleClass("likedBtn")},openUrl:function(){var t=this;window.appConfig.debug?window.open(this.model.get("cUrl")):seajs.use(["childbrowser"],function(e){e.plugins.childBrowser.showWebPage(t.model.get("cUrl"),{showLocationBar:!0})})},render:function(){var t=this.model.toJSON(),e=r.TOOL.getPicSize();t.uPic?t.uPic+="_"+e+"x"+e+".jpg":t.pUrl+="_"+e+"x"+e;var i=t.pic_size,a=r.getWaterFalColWidth()*i.h/i.w;return t.imgShowH=a,this.$el.html(this.template(t)),this}});i.exports=o});