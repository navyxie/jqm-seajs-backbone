define(function(t,e,i){var a=t("underscore"),s=t("backbone"),n=t("../vendors/util"),o=n.TPL.get,r=s.View.extend({template:a.template(o.call(n.TPL,"item")),className:"waterFallItem",tagName:"div",initialize:function(){this.$el=$(this.el),this.model.bind("change",this.render,this)},events:{"vclick .clickUrl":"openUrl"},openUrl:function(){var t=this;window.appConfig.debug?window.open(this.model.get("cUrl")):seajs.use(["childbrowser"],function(e){e.plugins.childBrowser.showWebPage(t.model.get("cUrl"),{showLocationBar:!0})})},render:function(){var t=this.model.toJSON(),e=n.TOOL.getPicSize();t.uPic?t.uPic+="_"+e+"x"+e+".jpg":t.pUrl+="_"+e+"x"+e;var i=t.pic_size,a=n.getWaterFalColWidth()*i.h/i.w;return t.imgShowH=a,this.$el.html(this.template(t)),this}});i.exports=r});